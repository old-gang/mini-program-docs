import{_ as o,r as p,o as i,c,a as n,d as t,b as s,e}from"./app.19a248fc.js";var l="/mini-program-docs/images/plug1.png",r="/mini-program-docs/images/plug2.png",u="/mini-program-docs/images/plug3.png",d="/mini-program-docs/images/plug5.png",m="/mini-program-docs/images/plug4.png",k="/mini-program-docs/images/plug6.png",v="/mini-program-docs/images/plug7.png",g="/mini-program-docs/images/plug8.png",_="/mini-program-docs/images/plug9.png",h="/mini-program-docs/images/plug10.png",b="/mini-program-docs/images/plug11.png",q="/mini-program-docs/images/plug12.png",f="/mini-program-docs/images/plug13.png",y="/mini-program-docs/images/plug14.png",x="/mini-program-docs/images/plug15.png",j="/mini-program-docs/images/plug16.png";const w={},C=n("h1",{id:"\u4F7F\u7528\u5C0F\u7A0B\u5E8F\u63D2\u4EF6",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#\u4F7F\u7528\u5C0F\u7A0B\u5E8F\u63D2\u4EF6","aria-hidden":"true"},"#"),s(" \u4F7F\u7528\u5C0F\u7A0B\u5E8F\u63D2\u4EF6")],-1),S=n("h2",{id:"\u6DFB\u52A0\u63D2\u4EF6",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#\u6DFB\u52A0\u63D2\u4EF6","aria-hidden":"true"},"#"),s(" \u6DFB\u52A0\u63D2\u4EF6")],-1),B=s("\u524D\u5F80"),V={href:"https://fuwu.weixin.qq.com/search?tab=3&serviceType=3&type=&page=1",target:"_blank",rel:"noopener noreferrer"},E=s("\u5FAE\u4FE1\u670D\u52A1\u5E73\u53F0"),I=s("\u67E5\u627E\u9700\u8981\u7684\u5C0F\u7A0B\u5E8F\u63D2\u4EF6"),L=e('<p><img src="'+l+'" alt="\u63D2\u4EF6"></p><ol start="2"><li>\u5047\u8BBE\u6211\u4EEC\u4F7F\u7528<code>\u817E\u8BAF\u4F4D\u7F6E\u670D\u52A1\u57CE\u5E02\u9009\u62E9\u5668</code>,\u5219\u70B9\u51FB,\u8FDB\u884C\u6DFB\u52A0</li></ol><p><img src="'+r+'" alt="\u63D2\u4EF6"></p><ol start="3"><li>\u70B9\u51FB\u6DFB\u52A0\u540E,\u9009\u62E9\u9700\u8981\u8FD9\u4E2A\u63D2\u4EF6\u7684\u5C0F\u7A0B\u5E8F</li></ol><p><img src="'+u+'" alt="\u63D2\u4EF6"></p><ol start="4"><li>\u6DFB\u52A0\u6210\u529F\u7684\u754C\u9762</li></ol><p><img src="'+d+'" alt="\u63D2\u4EF6"></p><ol start="5"><li>\u7531\u4E8E\u817E\u8BAF\u670D\u52A1\u5668\u95EE\u9898,\u53EF\u80FD\u4F1A\u6DFB\u52A0\u5931\u8D25</li></ol><p><img src="'+m+'" alt="\u63D2\u4EF6"></p>',9),N=s("6.\u5982\u679C\u6DFB\u52A0\u5931\u8D25,\u8BF7\u79FB\u6B65"),P={href:"https://mp.weixin.qq.com/",target:"_blank",rel:"noopener noreferrer"},T=s("\u5C0F\u7A0B\u5E8F\u7BA1\u7406\u540E\u53F0"),$=s("\u4E2D\u8FDB\u884C\u6DFB\u52A0"),J=e('<blockquote><p>\u9009\u62E9<code>\u8BBE\u7F6E</code> --&gt; <code>\u7B2C\u4E09\u65B9\u8BBE\u7F6E</code> --&gt; <code>\u63D2\u4EF6\u7BA1\u7406</code> --&gt; \u70B9\u51FB<code>\u6DFB\u52A0\u63D2\u4EF6\u6309\u94AE</code>--&gt; \u5728\u641C\u7D22\u6846\u4E2D\u641C\u7D22\u4F60\u9700\u8981\u7684\u63D2\u4EF6 --&gt; \u70B9\u51FB\u6DFB\u52A0</p></blockquote><p><img src="'+k+'" alt="\u63D2\u4EF6"></p><h2 id="\u5F00\u901A\u5B9A\u4F4D\u670D\u52A1" tabindex="-1"><a class="header-anchor" href="#\u5F00\u901A\u5B9A\u4F4D\u670D\u52A1" aria-hidden="true">#</a> \u5F00\u901A\u5B9A\u4F4D\u670D\u52A1</h2>',3),K=s("\u7531\u4E8E\u4F7F\u7528\u7684\u63D2\u4EF6\u4E2D\u6709\u5B9A\u4F4D\u529F\u80FD,\u6240\u4EE5\u9700\u8981\u5728"),U={href:"https://mp.weixin.qq.com/",target:"_blank",rel:"noopener noreferrer"},X=s("\u5C0F\u7A0B\u5E8F\u7BA1\u7406\u540E\u53F0"),Y=s(",\u5F00\u542F\u5B9A\u4F4D\u670D\u52A1."),z=e('<ol><li>\u67E5\u627E\u817E\u8BAF\u4F4D\u7F6E\u670D\u52A1 <code>\u5F00\u53D1</code> --&gt; <code>\u5F00\u53D1\u5DE5\u5177</code> --&gt; <code>\u5F00\u53D1\u80FD\u529B</code> --&gt; <code>\u817E\u8BAF\u4F4D\u7F6E\u670D\u52A1</code></li></ol><p><img src="'+v+'" alt="\u63D2\u4EF6"></p><ol start="2"><li>\u5F00\u901A\u4F4D\u7F6E\u670D\u52A1</li></ol><p><img src="'+g+'" alt="\u63D2\u4EF6"></p><ol start="3"><li>\u5FAE\u4FE1\u8D26\u53F7\u626B\u7801\u6388\u6743</li></ol><p><img src="'+_+'" alt="\u63D2\u4EF6"></p><ol start="4"><li>\u5728\u817E\u8BAF\u4F4D\u7F6E\u670D\u52A1\u4E2D\u6CE8\u518C\u8D26\u53F7</li></ol><p><img src="'+h+'" alt="\u63D2\u4EF6"></p>',8),A={start:"5"},M=s("\u8FDB\u5165"),O={href:"https://lbs.qq.com/",target:"_blank",rel:"noopener noreferrer"},W=s("\u817E\u8BAF\u4F4D\u7F6E\u670D\u52A1\u5B98\u65B9"),Z=s(",\u70B9\u51FB\u53F3\u4E0A\u89D2"),D=n("code",null,"\u63A7\u5236\u53F0",-1),F=e('<p><img src="'+b+'" alt="\u63D2\u4EF6"></p><ol start="6"><li>\u5728\u63A7\u5236\u53F0\u4E2D\u9009\u62E9 <code>\u5E94\u7528\u7BA1\u7406</code>--&gt; <code>\u6211\u7684\u5E94\u7528</code>--&gt; <code>\u521B\u5EFA\u5E94\u7528</code> \u8F93\u5165\u5E94\u7528\u540D\u79F0(\u968F\u610F).\u5E94\u7528\u7C7B\u578B(\u5EFA\u8BAE\u9009\u5176\u4ED6)</li></ol><p><img src="'+q+'" alt="\u63D2\u4EF6"></p><ol start="7"><li>\u5728\u5E94\u7528\u4E2D,\u70B9\u51FB<code>\u6DFB\u52A0key</code>,\u4E66\u5199\u8868\u5355</li></ol><p><img src="'+f+'" alt="\u63D2\u4EF6"></p><ol start="8"><li>\u751F\u6210 key. \u6B64\u65F6\u5DF2\u7ECF\u6210\u529F\u5F00\u542F\u5B9A\u4F4D\u670D\u52A1</li></ol><p><img src="'+y+'" alt="\u63D2\u4EF6"></p>',7),G=s("9 \u6B64\u65F6, \u5728"),H={href:"https://mp.weixin.qq.com/",target:"_blank",rel:"noopener noreferrer"},Q=s("\u5C0F\u7A0B\u5E8F\u7BA1\u7406\u540E\u53F0"),R=s("\u4E2D "),nn=n("code",null,"\u8BBE\u7F6E",-1),sn=s(" --> "),an=n("code",null,"\u7B2C\u4E09\u65B9\u8BBE\u7F6E",-1),tn=s("--> "),en=n("code",null,"\u7B2C\u4E09\u65B9\u5E73\u53F0\u6388\u6743\u7BA1\u7406",-1),on=s("\u4E2D\u67E5\u770B\u5230\u817E\u8BAF\u4F4D\u7F6E\u670D\u52A1"),pn=e('<p><img src="'+x+`" alt="\u63D2\u4EF6"></p><h2 id="\u4F7F\u7528\u63D2\u4EF6" tabindex="-1"><a class="header-anchor" href="#\u4F7F\u7528\u63D2\u4EF6" aria-hidden="true">#</a> \u4F7F\u7528\u63D2\u4EF6</h2><blockquote><p>\u6DFB\u52A0\u63D2\u4EF6\u548C\u5F00\u901A\u5B9A\u4F4D\u670D\u52A1\u5B8C\u6210\u4E4B\u540E,\u5373\u53EF\u5728\u81EA\u5DF1\u7684\u5C0F\u7A0B\u5E8F\u4E2D\u4F7F\u7528. \u8FDB\u5165\u6307\u5B9A\u63D2\u4EF6\u7684\u8BE6\u60C5\u9875\u9762, \u9009\u62E9\u63A5\u5165\u6587\u6863,\u6309\u7167\u6587\u6863\u8981\u6C42\u4F7F\u7528\u5373\u53EF</p></blockquote><ol><li>\u5728\u4F60\u7684\u5C0F\u7A0B\u5E8F\u4E2D\u5F15\u5165\u63D2\u4EF6</li></ol><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token comment">// app.json</span>
<span class="token punctuation">{</span>
  <span class="token property">&quot;plugins&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;citySelector&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;version&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1.0.1&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;provider&quot;</span><span class="token operator">:</span> <span class="token string">&quot;wx63ffb7b7894e99ae&quot;</span> <span class="token comment">//\u8FD9\u662F\u57CE\u5E02\u9009\u62E9\u5668appid</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="2"><li>\u57CE\u5E02\u9009\u62E9\u5668\u63D2\u4EF6\u9700\u8981\u5C0F\u7A0B\u5E8F\u63D0\u4F9B\u5B9A\u4F4D\u6388\u6743\u624D\u80FD\u591F\u6B63\u5E38\u4F7F\u7528\u5B9A\u4F4D\u529F\u80FD\uFF1A</li></ol><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token comment">// app.json</span>
<span class="token punctuation">{</span>
  <span class="token property">&quot;permission&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;scope.userLocation&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;desc&quot;</span><span class="token operator">:</span> <span class="token string">&quot;\u4F60\u7684\u4F4D\u7F6E\u4FE1\u606F\u5C06\u7528\u4E8E\u5C0F\u7A0B\u5E8F\u5B9A\u4F4D&quot;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="3"><li>\u5728\u9700\u8981\u4F7F\u7528\u63D2\u4EF6\u7684\u9875\u9762\u4E2D\u5B9A\u4E49\u5982\u4E0B\u4EE3\u7801 <blockquote><p>\u5047\u8BBE/pages/index/index \u9875\u9762\u4E2D\u70B9\u51FB\u6309\u94AE,\u4F7F\u7528\u63D2\u4EF6</p></blockquote></li></ol><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token function">Page</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token function">handler</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> key <span class="token operator">=</span> <span class="token string">&#39;EXXBZ-BLIKU-PYBVK-B4OMY-AST6J-CWB6J&#39;</span> <span class="token comment">// \u4F7F\u7528\u5728\u817E\u8BAF\u4F4D\u7F6E\u670D\u52A1\u7533\u8BF7\u7684key</span>
    <span class="token keyword">const</span> referer <span class="token operator">=</span> <span class="token string">&#39;test&#39;</span> <span class="token comment">// \u8C03\u7528\u63D2\u4EF6\u7684app\u7684\u540D\u79F0(\u968F\u4FBF\u5199)</span>
    <span class="token keyword">const</span> hotCitys <span class="token operator">=</span> <span class="token string">&#39;\u5317\u4EAC,\u6DF1\u5733,\u4E0A\u6D77,\u6B66\u6C49,\u897F\u5B89&#39;</span> <span class="token comment">// \u7528\u6237\u81EA\u5B9A\u4E49\u7684\u7684\u70ED\u95E8\u57CE\u5E02(\u968F\u4FBF\u5199)</span>

    wx<span class="token punctuation">.</span><span class="token function">navigateTo</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">plugin://citySelector/index?key=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>key<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&amp;referer=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>referer<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&amp;hotCitys=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>hotCitys<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="`+j+`" alt="plug"></p><ol start="4"><li>\u9009\u62E9\u4EFB\u4F55\u4E00\u4E2A\u57CE\u5E02\u4E4B\u540E,\u4F1A\u8FD4\u56DE\u5230<code>pages/index/index</code>\u9875\u9762. \u5728<code>pages/index/index</code>\u4E2D\u5B9A\u4E49\u4EE3\u7801,\u53EF\u4EE5\u62FF\u5230\u9009\u62E9\u7684\u57CE\u5E02\u4FE1\u606F</li></ol><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> citySelector <span class="token operator">=</span> <span class="token function">requirePlugin</span><span class="token punctuation">(</span><span class="token string">&#39;citySelector&#39;</span><span class="token punctuation">)</span>
<span class="token function">Page</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token comment">// \u4ECE\u57CE\u5E02\u9009\u62E9\u5668\u63D2\u4EF6\u8FD4\u56DE\u540E\uFF0C\u5728\u9875\u9762\u7684onShow\u751F\u547D\u5468\u671F\u51FD\u6570\u4E2D\u80FD\u591F\u8C03\u7528\u63D2\u4EF6\u63A5\u53E3\uFF0C\u83B7\u53D6cityInfo\u7ED3\u679C\u5BF9\u8C61</span>
  <span class="token function">onShow</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> selectedCity <span class="token operator">=</span> citySelector<span class="token punctuation">.</span><span class="token function">getCity</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// \u9009\u62E9\u57CE\u5E02\u540E\u8FD4\u56DE\u57CE\u5E02\u4FE1\u606F\u5BF9\u8C61\uFF0C\u82E5\u672A\u9009\u62E9\u8FD4\u56DEnull</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>selectedCity<span class="token punctuation">)</span>
    <span class="token comment">/*
    {
        fullname: &quot;\u6DF1\u5733\u5E02&quot;
        id: &quot;440300&quot;
        location: {latitude: 22.54286, longitude: 114.05956}
        name: &quot;\u6DF1\u5733&quot;
        pinyin: (2) [&quot;shen&quot;, &quot;zhen&quot;]
    }
    */</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">onUnload</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// \u9875\u9762\u5378\u8F7D\u65F6\u6E05\u7A7A\u63D2\u4EF6\u6570\u636E\uFF0C\u9632\u6B62\u518D\u6B21\u8FDB\u5165\u9875\u9762\uFF0CgetCity\u8FD4\u56DE\u7684\u662F\u4E0A\u6B21\u7684\u7ED3\u679C</span>
    citySelector<span class="token punctuation">.</span><span class="token function">clearCity</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,12);function cn(ln,rn){const a=p("ExternalLinkIcon");return i(),c("div",null,[C,S,n("ol",null,[n("li",null,[B,n("a",V,[E,t(a)]),I])]),L,n("p",null,[N,n("a",P,[T,t(a)]),$]),J,n("blockquote",null,[n("p",null,[K,n("a",U,[X,t(a)]),Y])]),z,n("ol",A,[n("li",null,[M,n("a",O,[W,t(a)]),Z,D])]),F,n("p",null,[G,n("a",H,[Q,t(a)]),R,nn,sn,an,tn,en,on]),pn])}var dn=o(w,[["render",cn],["__file","plug.html.vue"]]);export{dn as default};
